#!/bin/sh

type=$(yabai -m query --spaces --space | jq -r .type)

if [ "$1" = "north" ]
then
    if [ "$type" = "stack" ]
    then
        yabai -m window --focus "stack.prev" || yabai -m window --focus "stack.last"
    else
        yabai -m window --focus north || yabai -m window --focus prev || yabai -m window --focus last
    fi
elif [ "$1" = "south" ]
    yabai -m window --focus "stack.next" || yabai -m window --focus "stack.first"
then
    yabai -m window --focus south || yabai -m window --focus next || yabai -m window --focus first
else
    exit 1
fi
